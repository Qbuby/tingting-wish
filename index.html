<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday! For my love of my life Tingting</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <script>
      // 配置Tailwind自定义颜色和字体
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              love: {
                pink: "#FF6B8B",
                purple: "#C879FF",
                light: "#FFE6F0",
                dark: "#A34298",
              },
            },
            fontFamily: {
              romantic: ["Dancing Script", "cursive", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style type="text/tailwindcss">
      @layer utilities {
        .text-shadow {
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        .text-shadow-lg {
          text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-delay-1 {
          animation: float 6s ease-in-out 1s infinite;
        }
        .animate-float-delay-2 {
          animation: float 6s ease-in-out 2s infinite;
        }
        .animate-pulse-slow {
          animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .photo-transform {
          transition: all 0.5s ease;
        }
        .photo-transform:hover {
          transform: scale(1.05) rotate(2deg);
          z-index: 10;
        }
        .gradient-text {
          background-clip: text;
          -webkit-background-clip: text;
          color: transparent;
        }
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      /* 下落爱心动画 */
      @keyframes fall {
        0% {
          transform: translateY(-20px) rotate(0deg);
          opacity: 0.8;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body
    class="bg-gradient-to-br from-love-light to-white min-h-screen overflow-x-hidden font-sans"
  >
    <!-- 音频背景（默认不自动播放） -->
    <audio id="bgMusic" loop>
      <source
        src="https://qbuby.github.io/assets/M500001outPq2OQXYv.mp3"
        type="audio/mpeg"
      />
    </audio>

    <!-- 爱心漂浮背景 -->
    <div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
      <i
        class="fa fa-heart text-love-pink/30 text-2xl absolute top-[10%] left-[20%] animate-float"
      ></i>
      <i
        class="fa fa-heart text-love-purple/20 text-xl absolute top-[30%] left-[80%] animate-float-delay-1"
      ></i>
      <i
        class="fa fa-heart text-love-pink/25 text-3xl absolute top-[60%] left-[10%] animate-float-delay-2"
      ></i>
      <i
        class="fa fa-heart text-love-purple/30 text-2xl absolute top-[80%] left-[70%] animate-float"
      ></i>
      <i
        class="fa fa-heart text-love-pink/20 text-xl absolute top-[40%] left-[40%] animate-float-delay-1"
      ></i>
    </div>

    <!-- 页面容器 -->
    <div class="relative z-10">
      <!-- 开场页面 -->
      <section
        id="opening"
        class="min-h-screen flex flex-col items-center justify-center px-4 text-center transition-opacity duration-1000"
      >
        <div class="animate-pulse-slow mb-8">
          <i class="fa fa-gift text-6xl text-love-pink"></i>
        </div>
        <h1
          class="text-[clamp(2.5rem,8vw,5rem)] font-romantic font-bold text-love-pink mb-6 text-shadow-lg"
        >
          Happy Birthday，Tingting!
        </h1>
        <p class="text-[clamp(1rem,3vw,1.5rem)] text-gray-700 max-w-2xl mb-12">
          On this special day, I want to give you the tenderness of my whole
          world
        </p>
        <button
          id="startBtn"
          class="bg-gradient-to-r from-love-pink to-love-purple text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-lg"
        >
          Open my heart <i class="fa fa-arrow-down ml-2"></i>
        </button>
      </section>

      <!-- 照片墙部分 -->
      <section id="photoWall" class="py-20 px-4 bg-white">
        <div class="max-w-6xl mx-auto">
          <h2
            class="text-[clamp(1.8rem,5vw,3rem)] font-romantic text-center text-love-purple mb-16 text-shadow"
          >
            My pretty princess ♥
          </h2>

          <div
            class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6"
          >
            <!-- 照片项 - 点击可查看大图 -->
            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_20250809001356_125.jpg"
                alt="first sight of tingting"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-pink/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>

            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square md:col-span-2 md:row-span-2"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_20250809001417_127.jpg"
                alt="cutiee tingting"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-purple/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>

            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_2025-08-09_001755_063.jpg"
                alt="my favorite tingting"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-pink/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>

            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_20250809001412_126.jpg"
                alt="my good puppy"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-purple/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>

            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_20250809001421_129.jpg"
                alt="sleep together"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-pink/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>

            <div
              class="photo-item relative overflow-hidden rounded-lg shadow-md cursor-pointer photo-transform aspect-square lg:col-span-2"
            >
              <img
                src="https://qbuby.github.io/assets/微信图片_20250809012204_131.jpg"
                alt="we get married"
                class="w-full h-full object-cover"
              />
              <div
                class="absolute inset-0 bg-love-purple/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"
              >
                <i class="fa fa-search-plus text-white text-3xl"></i>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 游戏部分 -->
      <section
        id="gameSection"
        class="py-20 px-4 bg-gradient-to-br from-love-purple/10 to-love-pink/10"
      >
        <div class="max-w-4xl mx-auto">
          <h2
            class="text-[clamp(1.8rem,5vw,3rem)] font-romantic text-center text-love-pink mb-6 text-shadow"
          >
            Try to catch my love:3
          </h2>
          <p class="text-center text-gray-700 mb-12 max-w-2xl mx-auto">
            Click on the pulsating heart on the screen and collect my full love
            for you
          </p>

          <div
            id="gameContainer"
            class="relative bg-white rounded-2xl shadow-xl overflow-hidden h-[400px] mb-8"
          >
            <div
              id="gameScore"
              class="absolute top-4 left-4 bg-love-pink text-white px-4 py-2 rounded-full shadow-md z-10"
            >
              Love scores: <span id="score">0</span>
            </div>
            <div
              id="gameTime"
              class="absolute top-4 right-4 bg-love-purple text-white px-4 py-2 rounded-full shadow-md z-10"
            >
              Time: <span id="time">30</span>s
            </div>
            <div
              id="gameStartScreen"
              class="absolute inset-0 bg-gradient-to-br from-love-pink/90 to-love-purple/90 flex flex-col items-center justify-center z-20"
            >
              <i class="fa fa-heart text-white text-8xl mb-6 animate-pulse"></i>
              <button
                id="startGameBtn"
                class="bg-white text-love-pink font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-lg"
              >
                Start
              </button>
            </div>
            <div
              id="gameEndScreen"
              class="absolute inset-0 bg-gradient-to-br from-love-pink/90 to-love-purple/90 flex flex-col items-center justify-center z-20 hidden"
            >
              <h3 class="text-white text-3xl font-romantic mb-4">Slay~💅✨</h3>
              <p class="text-white text-xl mb-2">
                Your love score: <span id="finalScore">0</span>
              </p>
              <p class="text-white mb-6">
                Just like my love for you, overflowing 😘
              </p>
              <button
                id="restartGameBtn"
                class="bg-white text-love-pink font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-lg"
              >
                Play again
              </button>
            </div>
          </div>

          <div class="text-center">
            <p class="text-gray-600 italic">
              Tip: the faster you click on love, the higher score you can get~
            </p>
          </div>
        </div>
      </section>

      <!-- 时间胶囊 -->
      <section id="timeCapsule" class="py-20 px-4 bg-white">
        <div class="max-w-4xl mx-auto">
          <h2
            class="text-[clamp(1.8rem,5vw,3rem)] font-romantic text-center text-love-purple mb-16 text-shadow"
          >
            Our precious memories
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div
              class="bg-love-light/50 rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow"
            >
              <div class="flex items-center mb-4">
                <i class="fa fa-calendar text-love-pink text-2xl mr-3"></i>
                <h3 class="text-xl font-bold text-gray-800">First sight</h3>
              </div>
              <p class="text-gray-700 mb-3">
                On that day, your smile was like a beam of light, illuminating
                my world
              </p>
              <div class="text-love-pink font-romantic text-xl">2025.7.12</div>
              <div id="firstMeetCount" class="text-sm text-gray-500 mt-2">
                We have known each other for
                <span class="font-bold text-love-purple">29</span> days
              </div>
            </div>

            <div
              class="bg-love-light/50 rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow"
            >
              <div class="flex items-center mb-4">
                <i class="fa fa-heart text-love-pink text-2xl mr-3"></i>
                <h3 class="text-xl font-bold text-gray-800">Be lovers</h3>
              </div>
              <p class="text-gray-700 mb-3">
                Going from being friends to lovers with you was the most correct
                decision I have ever made. Please advise me for the rest of my
                life
              </p>
              <div class="text-love-pink font-romantic text-xl">2025.7.19</div>
              <div id="relationshipCount" class="text-sm text-gray-500 mt-2">
                We have been in love for
                <span class="font-bold text-love-purple">22</span> days
              </div>
            </div>

            <div
              class="bg-love-light/50 rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow"
            >
              <div class="flex items-center mb-4">
                <i class="fa fa-map-marker text-love-pink text-2xl mr-3"></i>
                <h3 class="text-xl font-bold text-gray-800">I'm only yours</h3>
              </div>
              <p class="text-gray-700 mb-3">
                In this terrible world, I want to be the only special person for
                you
              </p>
              <div class="text-love-pink font-romantic text-xl">
                You are only mine🫶
              </div>
              <div class="text-sm text-gray-500 mt-2">
                Every wonder this world holds grows more radiant because you
                exist
              </div>
            </div>

            <div
              class="bg-love-light/50 rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow"
            >
              <div class="flex items-center mb-4">
                <i class="fa fa-star text-love-pink text-2xl mr-3"></i>
                <h3 class="text-xl font-bold text-gray-800">
                  Future agreement
                </h3>
              </div>
              <p class="text-gray-700 mb-3">
                There are more sunrises and sunsets, more seasons changing, I
                want to witness them with you
              </p>
              <div class="text-love-pink font-romantic text-xl">
                Every day of the rest of my life
              </div>
              <div class="text-sm text-gray-500 mt-2">
                I wanna hold your hand and get old together with you
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 告白部分 -->
      <section
        id="loveLetter"
        class="py-20 px-4 bg-gradient-to-br from-love-pink/20 to-love-purple/20"
      >
        <div class="max-w-3xl mx-auto">
          <h2
            class="text-[clamp(1.8rem,5vw,3rem)] font-romantic text-center text-love-pink mb-12 text-shadow"
          >
            For my only love, Tingting
          </h2>

          <div class="bg-white rounded-2xl p-8 shadow-xl relative">
            <div
              class="absolute -top-5 -left-5 text-love-pink text-4xl opacity-70"
            >
              <i class="fa fa-heart"></i>
            </div>
            <div
              class="absolute -bottom-5 -right-5 text-love-purple text-4xl opacity-70"
            >
              <i class="fa fa-heart"></i>
            </div>

            <div
              class="font-romantic text-[clamp(1.2rem,3vw,1.6rem)] text-gray-700 leading-relaxed space-y-4"
            >
              <p>Dear Tingting,</p>
              <p>
                This is the first birthday we celebrate together. I'm greedy,
                and I want to participate in all your next birthdays.
              </p>
              <p>
                You are the first sunshine in the morning, the brightest star at
                night, the surprise in my ordinary life, and the comfort in my
                tired time.
              </p>
              <p>
                I like your smile, as pure as a child; I like your kindness,
                warm everyone around you; I like your company and make every
                ordinary day meaningful.
              </p>
              <p>
                May the years treat you tenderly, and may you smile like a child
                every day. I hope we can go through more spring, summer, autumn
                and winter together and create more beautiful memories.
              </p>
              <p>Happy birthday, my favorite girl.</p>
              <p class="mt-8 text-right text-love-pink">
                Ruhang, who love you forever
              </p>
            </div>
          </div>

          <!-- 互动爱心按钮（已启用） -->
          <div class="mt-16 text-center">
            <p class="text-gray-700 mb-6">Try to click the heart</p>
            <button
              id="loveBtn"
              class="relative inline-flex items-center justify-center"
            >
              <i
                id="loveIcon"
                class="fa fa-heart text-6xl text-love-pink hover:text-love-purple transition-colors duration-300 transform hover:scale-110"
              ></i>
              <span
                id="loveText"
                class="love-text absolute -top-10 left-1/2 transform -translate-x-1/2 bg-love-pink text-white px-3 py-1 rounded-full text-sm opacity-0 transition-opacity"
                >我爱你</span
              >
            </button>
          </div>
        </div>
      </section>

      <!-- 结尾部分 -->
      <section id="ending" class="py-16 px-4 bg-white text-center">
        <div class="max-w-2xl mx-auto">
          <h2
            class="text-[clamp(1.5rem,4vw,2.5rem)] font-romantic text-love-purple mb-6"
          >
            Happy every day, my love
          </h2>
          <p class="text-gray-600 mb-8">
            Wish your every day be beautiful like a rainbow, and every moment be
            surrounded by happiness
          </p>
          <div class="flex justify-center space-x-4 mb-12">
            <i class="fa fa-heart text-love-pink text-2xl animate-pulse"></i>
            <i
              class="fa fa-heart text-love-purple text-2xl animate-pulse-delay-1"
            ></i>
            <i
              class="fa fa-heart text-love-pink text-2xl animate-pulse-delay-2"
            ></i>
          </div>
          <p class="text-gray-500 text-sm">
            With all my love, I want to give you this special gift for you
          </p>
        </div>
      </section>
    </div>

    <!-- 照片查看器模态框 -->
    <div
      id="photoViewer"
      class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 hidden"
    >
      <button
        id="closePhoto"
        class="absolute top-6 right-6 text-white text-4xl hover:text-love-pink transition-colors"
      >
        <i class="fa fa-times"></i>
      </button>
      <img
        id="photoLarge"
        src=""
        alt="大图预览"
        class="max-h-[80vh] max-w-[90vw] object-contain"
      />
    </div>

    <script>
      // 页面加载完成后执行
      document.addEventListener("DOMContentLoaded", function () {
        // 音频控制
        const bgMusic = document.getElementById("bgMusic");

        // 安全获取可选元素
        const loveBtn = document.getElementById("loveBtn");
        const loveText = document.getElementById("loveText");

        // 播放音乐的函数（由用户交互触发）
        function playMusic() {
          if (bgMusic && bgMusic.paused) {
            bgMusic.play().catch((e) => {
              // 浏览器可能要求用户交互，静默捕捉错误
              console.log("音乐播放需要用户交互", e);
            });
          }
        }

        // 开场按钮点击事件
        const startBtn = document.getElementById("startBtn");
        startBtn.addEventListener("click", function () {
          playMusic();
          document.getElementById("opening").style.opacity = "0";
          setTimeout(() => {
            document.getElementById("opening").style.display = "none";
            // 滚动到照片墙
            document
              .getElementById("photoWall")
              .scrollIntoView({ behavior: "smooth" });
          }, 1000);
        });

        // 照片墙功能
        const photoItems = document.querySelectorAll(".photo-item");
        const photoViewer = document.getElementById("photoViewer");
        const photoLarge = document.getElementById("photoLarge");
        const closePhoto = document.getElementById("closePhoto");

        photoItems.forEach((item) => {
          item.addEventListener("click", function () {
            const img = this.querySelector("img");
            const imgSrc = img ? img.src : "";
            if (!imgSrc) return;
            photoLarge.src = imgSrc;
            photoViewer.classList.remove("hidden");
            document.body.style.overflow = "hidden";
          });
        });

        function closePhotoViewer() {
          photoViewer.classList.add("hidden");
          document.body.style.overflow = "auto";
          photoLarge.src = "";
        }

        closePhoto.addEventListener("click", closePhotoViewer);

        // 点击照片查看器背景关闭
        photoViewer.addEventListener("click", function (e) {
          if (e.target === this) {
            closePhotoViewer();
          }
        });

        // 支持 Esc 关闭图片预览
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            if (!photoViewer.classList.contains("hidden")) {
              closePhotoViewer();
            }
            // 如果结算画面或其他模态也需要Esc处理，可在此扩展
          }
        });

        // 游戏功能
        const gameContainer = document.getElementById("gameContainer");
        const startGameBtn = document.getElementById("startGameBtn");
        const restartGameBtn = document.getElementById("restartGameBtn");
        const gameStartScreen = document.getElementById("gameStartScreen");
        const gameEndScreen = document.getElementById("gameEndScreen");
        const scoreDisplay = document.getElementById("score");
        const finalScoreDisplay = document.getElementById("finalScore");
        const timeDisplay = document.getElementById("time");
        let score = 0;
        let time = 30;
        let gameInterval;
        let heartInterval;

        // 开始游戏
        startGameBtn.addEventListener("click", startGame);
        restartGameBtn.addEventListener("click", startGame);

        function startGame() {
          playMusic();
          score = 0;
          time = 30;
          scoreDisplay.textContent = score;
          timeDisplay.textContent = time;

          // 隐藏开始与结算界面（但不从 DOM 中移除）
          gameStartScreen.classList.add("hidden");
          gameEndScreen.classList.add("hidden");

          // 清除之前的定时器
          clearInterval(gameInterval);
          clearInterval(heartInterval);

          // 时间倒计时
          gameInterval = setInterval(() => {
            time--;
            timeDisplay.textContent = time;

            if (time <= 0) {
              endGame();
            }
          }, 1000);

          // 生成爱心
          createHearts();
        }

        function createHearts() {
          // 如果已经有旧的定时器，先清掉
          clearInterval(heartInterval);

          // 每500毫秒生成一个爱心
          heartInterval = setInterval(() => {
            if (time <= 0) return;

            const heart = document.createElement("div");
            heart.classList.add("heart-item"); // 标记为动态生成的爱心
            const size = Math.random() * 40 + 20; // 20-60px
            const left = Math.random() * (gameContainer.offsetWidth - size);
            const top = Math.random() * (gameContainer.offsetHeight - size);
            const color =
              Math.random() > 0.5 ? "text-love-pink" : "text-love-purple";

            heart.innerHTML = `<i class="fa fa-heart ${color}"></i>`;
            heart.style.position = "absolute";
            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;
            heart.style.left = `${left}px`;
            heart.style.top = `${top}px`;
            heart.style.fontSize = `${size}px`;
            heart.style.cursor = "pointer";
            heart.style.transition = "all 0.3s ease";
            heart.style.opacity = "0";

            gameContainer.appendChild(heart);

            // 淡入效果
            setTimeout(() => {
              heart.style.opacity = "1";
            }, 10);

            // 点击爱心加分
            heart.addEventListener("click", function () {
              score += Math.floor(10 + Math.random() * 20); // 10-30分
              scoreDisplay.textContent = score;

              // 点击动画
              this.style.transform = "scale(1.5)";
              this.style.opacity = "0";

              setTimeout(() => {
                if (gameContainer.contains(this)) {
                  this.remove();
                }
              }, 300);
            });

            // 自动消失
            setTimeout(() => {
              if (gameContainer.contains(heart)) {
                heart.style.opacity = "0";
                setTimeout(() => {
                  if (gameContainer.contains(heart)) {
                    heart.remove();
                  }
                }, 300);
              }
            }, 2000);
          }, 500);
        }

        function endGame() {
          // 停掉定时器
          clearInterval(gameInterval);
          clearInterval(heartInterval);

          // 只移除动态生成的爱心（避免误删界面元素）
          const hearts = gameContainer.querySelectorAll(".heart-item");
          hearts.forEach((heart) => heart.remove());

          // 更新结算分数并显示结算画面
          finalScoreDisplay.textContent = score;
          gameEndScreen.classList.remove("hidden");
        }

        // 计算日期差（保留原来的简单实现）
        function calculateDays(dateString) {
          const targetDate = new Date(dateString);
          const today = new Date();
          const diffTime = Math.abs(today - targetDate);
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          return diffDays;
        }

        // 更新日期计数（与页面显示的日期保持一致）
        // 如果你想改成包含/不包含当天，可调整 calculateDays 的实现
        document
          .getElementById("firstMeetCount")
          .querySelector("span").textContent = calculateDays("2025-07-11");
        document
          .getElementById("relationshipCount")
          .querySelector("span").textContent = calculateDays("2025-07-18");

        // 创建掉落的爱心效果（用于点击右下角的告白按钮等）
        function createFallingHearts(count) {
          for (let i = 0; i < count; i++) {
            const heart = document.createElement("i");
            heart.className = "fa fa-heart text-love-pink absolute";

            // 随机大小、位置和动画时间
            const size = Math.random() * 20 + 10;
            const left = Math.random() * 100;
            const duration = Math.random() * 3 + 2;
            const delay = Math.random() * 2;

            heart.style.cssText = `
                        top: -20px;
                        left: ${left}%;
                        font-size: ${size}px;
                        opacity: 0.8;
                        animation: fall ${duration}s ease-in ${delay}s forwards;
                        pointer-events: none;
                        z-index: 100;
                    `;

            document.body.appendChild(heart);

            // 动画结束后移除元素
            setTimeout(() => {
              if (document.body.contains(heart)) {
                document.body.removeChild(heart);
              }
            }, (duration + delay) * 1000);
          }
        }

        // 事件：点击爱心按钮播放音乐并显示效果（仅在 loveBtn 存在时绑定）
        if (loveBtn) {
          loveBtn.addEventListener("click", function () {
            playMusic();

            // 显示"我爱你"文字
            if (loveText) {
              loveText.style.opacity = "1";
              setTimeout(() => {
                loveText.style.opacity = "0";
              }, 1500);
            }

            // 创建随机掉落爱心（视觉效果）
            createFallingHearts(6);
          });
        }

        // 平滑滚动（锚点链接）
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute("href")).scrollIntoView({
              behavior: "smooth",
            });
          });
        });
      });
    </script>
  </body>
</html>
